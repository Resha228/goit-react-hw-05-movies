{"version":3,"file":"static/js/818.f6dffdf8.chunk.js","mappings":"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","sources":["components/API.js","components/Spinner.js","components/SearchMovies.jsx","styles/Movies.styled.jsx","pages/Movies.js","styles/MoviesList.styled.jsx"],"sourcesContent":["import axios from 'axios';\n\nexport const API_KEY = '4b344883b82fcf079d9187a8a7651085';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nexport const fetchData = async (way, data) => {\n  const response = await axios.get\n    (`${way}?api_key=${API_KEY}${data ?? ''}`);\n  return response.data;\n};\n\n\n\n","import React from 'react';\nimport { Oval } from 'react-loader-spinner';\nimport { SpinnerWraper } from 'styles/AppLayout.styled';\n\nconst Spinner = () => (\n  <SpinnerWraper>\n    <Oval\n      height={100}\n      width={100}\n      color=\"#cacbeb\"\n      visible={true}\n      ariaLabel='oval-loading'\n      secondaryColor=\"#a6a9f5\"\n      strokeWidth={2}\n      strokeWidthSecondary={2}\n    />\n  </SpinnerWraper>\n);\n\nexport default Spinner;\n","import { useLocation } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport { FilmPoster, FilmCard, FilmList } from 'styles/MoviesList.styled';\n\nconst SearchMovies = ({ movies }) => {\n  const location = useLocation();\n\n  return (\n    <FilmList>\n      {movies.map(({ id, poster_path, original_title, title }) => (\n        <li key={id}>\n          <FilmCard>\n            <Link to={`/movies/${id}`} state={{ from: location }}>\n              <FilmPoster\n                src={\n                  poster_path &&\n                  `https://image.tmdb.org/t/p/w500${poster_path}`\n                }\n                alt={original_title}\n                width=\"150\"\n              />\n              {title}\n            </Link>\n          </FilmCard>\n        </li>\n      ))}\n    </FilmList>\n  );\n};\n\nexport default SearchMovies;\n","import styled from 'styled-components';\n\nexport const SearchMoviesWraper = styled.section`\n    margin-top: 24px;\n    margin-bottom: 10px;\n`;\n\nexport const SearchForm = styled.form`\n    display: flex;\n    align-items: center;\n    gap: 10px;\n    margin: 14px 0 20px;\n`;\n\nexport const InputForm = styled.input`\n    padding: 8px 10px 8px 40px;\n    border-radius: 4px;\n    border: none;\n    outline: 2px solid white;\n    min-width: 360px;\n    min-height: 38px;\n    transition: 0.3s ease;\n    &:hover, \n    &:focus: {\n    outline: 2px solid #cacbeb;\n    }\n    &::placeholder {\n    color: #6a6c6e;\n    line-height: 1.5;\n    font-size: 17px;\n    font-weight: 300;\n    }\n`;\n\nexport const FormWraper = styled.div`\n    position: relative;\n`;\n\nexport const IconWraper = styled.span`\n    position: absolute;\n    top: 9px;\n    left: 9px;\n`;\n\nexport const TitleForm = styled.h2`\n    font-size: 36px;\n    font-weight: 500;\n    margin: 10px 0 12px;\n`;\n\nexport const ButtonSubmit = styled.button`\n    min-width: 80px;\n    height: 42px;\n    border-radius: 4px;\n    border: none;\n    cursor: pointer;\n    align-items: center;\n    font-size: 18px;\n    font-weight: 500;\n    line-height: 1.5;\n    background-color: #f0d371;\n    color: #010c1f;\n    transition: 0.4s ease;\n    &:hover, \n    &:focus: {\n        border: 1px solid #78621c;\n        background-color: #f0ca4d;\n        box-shadow: rgba(0, 0, 0, 0.3) 0px 19px 38px, rgba(0, 0, 0, 0.22) 0px 15px 12px;\n    }\n`;","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { toast } from 'react-hot-toast';\nimport { BiSearch } from \"react-icons/bi\";\nimport { fetchData } from '../components/API';\nimport Spinner from 'components/Spinner';\nimport SearchMovies from 'components/SearchMovies';\nimport { SearchMoviesWraper, SearchForm, TitleForm, InputForm, IconWraper, FormWraper, ButtonSubmit } from 'styles/Movies.styled';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [query, setQuery] = useSearchParams();\n  const [loading, setLoading] = useState(false);\n  const currentSearch = query.get('search') ?? '';\n\n  const onSubmitSearch = e => {\n    e.preventDefault();\n    const newSearch = e.target.elements.search.value;\n\n    if (newSearch === '') {\n      toast.error('Enter some text');\n      return;\n    }\n\n    setQuery({ search: newSearch, _timestamp: Date.now() });\n\n    e.target.elements.search.value = '';\n  };\n\n  useEffect(() => {\n    if (currentSearch === '') {\n      setMovies([]);\n      return;\n    }\n\n    setLoading(true);\n\n    toast.loading('Loading...', { duration: 300 });\n    const querySearch = `&query=${currentSearch}`;\n    const waySearch = '/search/movie';\n\n    setTimeout(async () => {\n      try {\n        const { results } = await fetchData(waySearch, querySearch);\n        if (results.length === 0) {\n          toast('No movies');\n          return;\n        }\n        toast.success(`Found ${results.length} movies!`);\n        setMovies([...results]);\n      } catch (error) {\n        console.warn(error);\n        toast.error('Oops! Something went wrong...');\n      } finally {\n        setLoading(false);\n      }\n    }, 500);\n  }, [currentSearch]);\n\n  return (\n    <main>\n      <>\n        <TitleForm>Find movies:</TitleForm>\n        <FormWraper>\n          <SearchForm onSubmit={onSubmitSearch}>\n            <IconWraper><BiSearch style={{ width: '24px', height: '24px', color: '#ad9d66' }}/></IconWraper>\n            <InputForm\n              type=\"text\"\n              name=\"search\"\n              autoFocus\n              placeholder=\"enter a movie name\"\n            />\n            <ButtonSubmit type=\"submit\">search</ButtonSubmit>\n          </SearchForm>\n        </FormWraper>\n        <hr />\n        {movies.length > 0 && (\n          <SearchMoviesWraper>\n            {loading ? (\n              <Spinner />\n            ) : (\n              <>\n                <ul>\n                  <SearchMovies movies={movies} />\n                </ul>\n              </>\n            )}\n          </SearchMoviesWraper>\n        )}\n      </>\n    </main>\n  );\n};\n\nexport default Movies;\n","import styled from 'styled-components';\n\nexport const FilmList = styled.div`\n    display: flex;\n    justify-content: center;\n    flex-wrap: wrap;\n    column-gap: 26px;\n    row-gap: 16px;\n`;\n\nexport const FilmCard = styled.div`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    text-align: center;\n    width: 166px;\n    padding: 6px 6px 10px;\n`;\n\nexport const FilmPoster = styled.img`\n    margin-bottom: 14px;\n    transition: 0.3s ease;\n\n    &:hover {\n        transform: scale(1.09);\n        box-shadow: 0px 2px 10px 0px rgba(0, 0, 0, 1);\n    }\n`;\n\nexport const TitleFilm = styled.h2`\n    font-size: 32px;\n    font-weight: 700;\n    margin: 8px 0 12px;\n    \n`;\n\nexport const MainContainer = styled.main`\n    position: relative;\n`;\n\nexport const IconContainer = styled.span`\n    position: absolute;\n    top: 10px;\n    right: 0;\n`;\n\nexport const DetailsWrapper = styled.ul`\n    display: flex;\n    justify-content: center;\n    flex-wrap: wrap;\n    column-gap: 26px;\n    row-gap: 16px;\n`;\n"],"names":["axios","fetchData","way","data","response","height","width","color","visible","ariaLabel","secondaryColor","strokeWidth","strokeWidthSecondary","movies","location","useLocation","map","id","poster_path","original_title","title","to","state","from","src","alt","SearchMoviesWraper","styled","SearchForm","InputForm","FormWraper","IconWraper","TitleForm","ButtonSubmit","useState","setMovies","useSearchParams","query","setQuery","loading","setLoading","currentSearch","get","useEffect","toast","duration","querySearch","setTimeout","results","length","console","warn","onSubmit","e","preventDefault","newSearch","target","elements","search","value","_timestamp","Date","now","style","type","name","autoFocus","placeholder","Spinner","FilmList","FilmCard","FilmPoster","TitleFilm","MainContainer","IconContainer","DetailsWrapper"],"sourceRoot":""}